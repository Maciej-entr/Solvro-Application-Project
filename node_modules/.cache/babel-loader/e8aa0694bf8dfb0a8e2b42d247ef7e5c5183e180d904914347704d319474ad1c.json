{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams,useNavigate}from'react-router-dom';import'./Item.css';import Navbar from'../components/navbar/Navbar';import Foter from'../components/footer/Foter';import Main from'../components/main/Main';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Item=()=>{const{id}=useParams();const[cocktail,setCocktail]=useState(null);const[isFavourite,setIsFavourite]=useState(false);const navigate=useNavigate();useEffect(()=>{const url=`https://cocktails.solvro.pl/api/v1/cocktails/${id}`;fetch(url).then(response=>response.json()).then(data=>{console.log('API response:',data);if(data&&data.data){setCocktail(data.data);console.log('Cocktail set:',data.data);checkIfFavourite(data.data);}else{console.error('Cocktail not found:',data);}}).catch(error=>console.error('Error fetching data:',error));},[id]);const checkIfFavourite=cocktail=>{const storedFavourites=JSON.parse(localStorage.getItem('favourites'))||[];const isFav=storedFavourites.some(fav=>fav.id===cocktail.id);setIsFavourite(isFav);};if(!cocktail){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}const ingredients=cocktail.ingredients||[];const addToFavourites=()=>{const storedFavourites=JSON.parse(localStorage.getItem('favourites'))||[];const updatedFavourites=[...storedFavourites,cocktail];localStorage.setItem('favourites',JSON.stringify(updatedFavourites));setIsFavourite(true);console.log(`Added ${cocktail.name} to favourites`);};const removeFromFavourites=()=>{const storedFavourites=JSON.parse(localStorage.getItem('favourites'))||[];const updatedFavourites=storedFavourites.filter(fav=>fav.id!==cocktail.id);localStorage.setItem('favourites',JSON.stringify(updatedFavourites));setIsFavourite(false);console.log(`Removed ${cocktail.name} from favourites`);};const goToFavourites=()=>{navigate('/favourite');};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"item-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"item-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"item-image\",children:/*#__PURE__*/_jsx(\"img\",{src:cocktail.imageUrl,alt:cocktail.name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-details\",children:[/*#__PURE__*/_jsx(\"h2\",{children:cocktail.name}),/*#__PURE__*/_jsx(\"h3\",{children:\"Ingredients\"}),/*#__PURE__*/_jsx(\"ul\",{children:ingredients.map((ingredient,index)=>/*#__PURE__*/_jsx(\"li\",{children:ingredient.name},index))}),/*#__PURE__*/_jsx(\"h3\",{children:\"Instructions\"}),/*#__PURE__*/_jsx(\"p\",{children:cocktail.instructions}),isFavourite?/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:removeFromFavourites,children:\"Remove from Favourites\"}):/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:addToFavourites,children:\"Add to Favourites\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:goToFavourites,children:\"Go to Favourites\"})]})]})}),/*#__PURE__*/_jsx(Main,{category:cocktail.category}),/*#__PURE__*/_jsx(Foter,{})]});};export default Item;","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","Navbar","Foter","Main","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Item","id","cocktail","setCocktail","isFavourite","setIsFavourite","navigate","url","fetch","then","response","json","data","console","log","checkIfFavourite","error","catch","storedFavourites","JSON","parse","localStorage","getItem","isFav","some","fav","children","ingredients","addToFavourites","updatedFavourites","setItem","stringify","name","removeFromFavourites","filter","goToFavourites","className","src","imageUrl","alt","map","ingredient","index","instructions","onClick","category"],"sources":["C:/Users/mwasz/OneDrive/Desktop/Solvro Cocktails/cocktail/Solvro-Application-Project/src/pages/Item.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport './Item.css';\r\nimport Navbar from '../components/navbar/Navbar';\r\nimport Foter from '../components/footer/Foter';\r\nimport Main from '../components/main/Main';\r\n\r\nconst Item = () => {\r\n    const { id } = useParams();\r\n    const [cocktail, setCocktail] = useState(null);\r\n    const [isFavourite, setIsFavourite] = useState(false);\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        const url = `https://cocktails.solvro.pl/api/v1/cocktails/${id}`;\r\n        fetch(url)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                console.log('API response:', data); \r\n                if (data && data.data) {\r\n                    setCocktail(data.data);\r\n                    console.log('Cocktail set:', data.data); \r\n                    checkIfFavourite(data.data);\r\n                } else {\r\n                    console.error('Cocktail not found:', data);\r\n                }\r\n            })\r\n            .catch(error => console.error('Error fetching data:', error));\r\n    }, [id]);\r\n\r\n    const checkIfFavourite = (cocktail) => {\r\n        const storedFavourites = JSON.parse(localStorage.getItem('favourites')) || [];\r\n        const isFav = storedFavourites.some(fav => fav.id === cocktail.id);\r\n        setIsFavourite(isFav);\r\n    };\r\n\r\n    if (!cocktail) {\r\n        return <div>Loading...</div>;\r\n    }\r\n\r\n    const ingredients = cocktail.ingredients || [];\r\n\r\n    const addToFavourites = () => {\r\n        const storedFavourites = JSON.parse(localStorage.getItem('favourites')) || [];\r\n        const updatedFavourites = [...storedFavourites, cocktail];\r\n        localStorage.setItem('favourites', JSON.stringify(updatedFavourites));\r\n        setIsFavourite(true);\r\n        console.log(`Added ${cocktail.name} to favourites`);\r\n    };\r\n\r\n    const removeFromFavourites = () => {\r\n        const storedFavourites = JSON.parse(localStorage.getItem('favourites')) || [];\r\n        const updatedFavourites = storedFavourites.filter(fav => fav.id !== cocktail.id);\r\n        localStorage.setItem('favourites', JSON.stringify(updatedFavourites));\r\n        setIsFavourite(false);\r\n        console.log(`Removed ${cocktail.name} from favourites`);\r\n    };\r\n\r\n    const goToFavourites = () => {\r\n        navigate('/favourite');\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Navbar />\r\n            <div className=\"item-container\">\r\n                <div className=\"item-content\">\r\n                    <div className=\"item-image\">\r\n                        <img src={cocktail.imageUrl} alt={cocktail.name} />\r\n                    </div>\r\n                    <div className=\"item-details\">\r\n                        <h2>{cocktail.name}</h2>\r\n                        <h3>Ingredients</h3>\r\n                        <ul>\r\n                            {ingredients.map((ingredient, index) => (\r\n                                <li key={index}>{ingredient.name}</li>\r\n                            ))}\r\n                        </ul>\r\n                        <h3>Instructions</h3>\r\n                        <p>{cocktail.instructions}</p>\r\n                        {isFavourite ? (\r\n                            <button className=\"btn\" onClick={removeFromFavourites}>Remove from Favourites</button>\r\n                        ) : (\r\n                            <button className=\"btn\" onClick={addToFavourites}>Add to Favourites</button>\r\n                        )}\r\n                        <button className=\"btn\" onClick={goToFavourites}>Go to Favourites</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <Main category={cocktail.category}/>\r\n            <Foter />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Item;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}